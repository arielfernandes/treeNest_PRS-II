{"remainingRequest":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/src/pages/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/src/pages/login/Login.vue","mtime":1612458073483},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdsb2dpbicsCglkYXRhOiAoKSA9PiAoewoJCQlsb2FkaW5nOiBmYWxzZSwKCQkJZW1haWw6ICcnLAoJCQlwYXNzd29yZDogJycKCQl9KSwKCW1ldGhvZHM6IHsKCQlhc3luYyBkb0xvZ2luKCkgewoJCQl0aGlzLmxvYWRpbmcgPSB0cnVlCgkJCWNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSB0aGlzCgkJCXRyeSB7CgkJCQljb25zdCByZXMgPSBhd2FpdCB0aGlzLiRmaXJlYmFzZQoJCQkJCS5hdXRoKCkKCQkJCQkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKQoJCQkJCgkJCQl3aW5kb3cudWlkID0gcmVzLnVzZXIudWlkCgkJCQl0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdob21lJyB9KQoJCQl9Y2F0Y2ggKGVycikgewoJCQkJbGV0IG1lc3NhZ2UgPSAnJwoJCQkJc3dpdGNoIChlcnIuY29kZSkgewoJCQkJCWNhc2UgJ2F1dGgvdXNlci1ub3QtZm91bmQnOgoJCQkJCQltZXNzYWdlID0gJ07Do28gZm9pIHBvc3PDrXZlbCBsb2NhbGl6YXIgbyB1c3XDoXJpby4nCgkJCQkJCWJyZWFrCgkJCQkJY2FzZSAnYXV0aC93cm9uZy1wYXNzd29yZCc6CgkJCQkJCW1lc3NhZ2UgPSAnU2VuaGEgaW52w6FsaWRhJwoJCQkJCQlicmVhawoJCQkJCWRlZmF1bHQ6CgkJCQkJCW1lc3NhZ2UgPSAnTsOjbyBmb2kgcG9zc8OtdmVsIGZhemVyIGxvZ2luLCB0ZW50ZSBub3ZhbWVudGUnCgkJCQkJfQoJCQkJCXRoaXMuJHJvb3QuJGVtaXQoJ05vdGlmaWNhdGlvbjo6c2hvdycsIHsKCQkJCQltZXNzYWdlLAoJCQkJCXR5cGU6ICdkYW5nZXInCgkJCQl9KQoJCQl9CgkJCXRoaXMubG9hZGluZyA9IGZhbHNlCgkJfQoJfSwKCgliZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CgkJbmV4dCh2bSA9PiB7CgkJCWlmICh3aW5kb3cudWlkKSB7CgkJCQl2bS4kcm91dGVyLnB1c2goeyBuYW1lOiAnaG9tZScgfSkKCQkJfQoJCX0pCgl9LAoJY29tcHV0ZWQ6IHsKCQlyb3V0ZXJMaW5rcyAoKSB7CgkJCXJldHVybiB0aGlzLiRyb3V0ZXIub3B0aW9ucy5yb3V0ZXMuZmlsdGVyKHIgPT4gKHIubmFtZSA9PSAnc2lnblVwJykpCgkJfQoJfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\n\t<div>\n\t\t<form @submit.prevent=\"doLogin()\" class=\"form-login\">\n\t\t\t<div class=\"card\">\n\t\t\t<div class=\"card-header text-center\">\n\t\t\t\t<h1> Tree Nest</h1>\n\t\t\t</div>\n\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"E-mail\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Password\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n\t\t\t\t\t\t<template v-if=\"loading\">\n\t\t\t\t\t\t\tLogando\n\t\t\t\t\t\t\t<i class=\"fa fa-spinner fa-spin\"></i>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\tSing in\n\t\t\t\t\t\t\t<i class=\"fa fa-sign-in-alt\"></i>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t\t<button>\n\t\t\n\t\t\t<router-link to=\"/signUp\" custom v-slot=\"{ navigate }\">\n\t\t\t\t<span @click=\"navigate\" role=\"link\">link</span>\n\t\t\t</router-link>\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'login',\n\tdata: () => ({\n\t\t\tloading: false,\n\t\t\temail: '',\n\t\t\tpassword: ''\n\t\t}),\n\tmethods: {\n\t\tasync doLogin() {\n\t\t\tthis.loading = true\n\t\t\tconst { email, password } = this\n\t\t\ttry {\n\t\t\t\tconst res = await this.$firebase\n\t\t\t\t\t.auth()\n\t\t\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t\t\n\t\t\t\twindow.uid = res.user.uid\n\t\t\t\tthis.$router.push({ name: 'home' })\n\t\t\t}catch (err) {\n\t\t\t\tlet message = ''\n\t\t\t\tswitch (err.code) {\n\t\t\t\t\tcase 'auth/user-not-found':\n\t\t\t\t\t\tmessage = 'Não foi possível localizar o usuário.'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'auth/wrong-password':\n\t\t\t\t\t\tmessage = 'Senha inválida'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmessage = 'Não foi possível fazer login, tente novamente'\n\t\t\t\t\t}\n\t\t\t\t\tthis.$root.$emit('Notification::show', {\n\t\t\t\t\tmessage,\n\t\t\t\t\ttype: 'danger'\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.loading = false\n\t\t}\n\t},\n\n\tbeforeRouteEnter(to, from, next) {\n\t\tnext(vm => {\n\t\t\tif (window.uid) {\n\t\t\t\tvm.$router.push({ name: 'home' })\n\t\t\t}\n\t\t})\n\t},\n\tcomputed: {\n\t\trouterLinks () {\n\t\t\treturn this.$router.options.routes.filter(r => (r.name == 'signUp'))\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\nh1 {\n\tfont-size: 30pt;\n}\n.form-login {\n\theight: 100vh;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\t.card {\n\t\twidth: 30%;\n\t}\n}\n.signUp {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n</style>\n\n"]}]}
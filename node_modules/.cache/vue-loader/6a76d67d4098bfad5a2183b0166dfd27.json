{"remainingRequest":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/src/pages/login/Login.vue?vue&type=style&index=0&id=659840cf&scoped=true&lang=css&","dependencies":[{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/src/pages/login/Login.vue","mtime":1612458073483},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaDEgewoJZm9udC1zaXplOiAzMHB0Owp9Ci5mb3JtLWxvZ2luIHsKCWhlaWdodDogMTAwdmg7CglkaXNwbGF5OiBmbGV4OwoJYWxpZ24taXRlbXM6IGNlbnRlcjsKCWp1c3RpZnktY29udGVudDogY2VudGVyOwoJLmNhcmQgewoJCXdpZHRoOiAzMCU7Cgl9Cn0KLnNpZ25VcCB7CglkaXNwbGF5OiBmbGV4OwoJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CglhbGlnbi1pdGVtczogY2VudGVyOwp9Cgo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\n\t<div>\n\t\t<form @submit.prevent=\"doLogin()\" class=\"form-login\">\n\t\t\t<div class=\"card\">\n\t\t\t<div class=\"card-header text-center\">\n\t\t\t\t<h1> Tree Nest</h1>\n\t\t\t</div>\n\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"E-mail\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Password\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n\t\t\t\t\t\t<template v-if=\"loading\">\n\t\t\t\t\t\t\tLogando\n\t\t\t\t\t\t\t<i class=\"fa fa-spinner fa-spin\"></i>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\tSing in\n\t\t\t\t\t\t\t<i class=\"fa fa-sign-in-alt\"></i>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t\t<button>\n\t\t\n\t\t\t<router-link to=\"/signUp\" custom v-slot=\"{ navigate }\">\n\t\t\t\t<span @click=\"navigate\" role=\"link\">link</span>\n\t\t\t</router-link>\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'login',\n\tdata: () => ({\n\t\t\tloading: false,\n\t\t\temail: '',\n\t\t\tpassword: ''\n\t\t}),\n\tmethods: {\n\t\tasync doLogin() {\n\t\t\tthis.loading = true\n\t\t\tconst { email, password } = this\n\t\t\ttry {\n\t\t\t\tconst res = await this.$firebase\n\t\t\t\t\t.auth()\n\t\t\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t\t\n\t\t\t\twindow.uid = res.user.uid\n\t\t\t\tthis.$router.push({ name: 'home' })\n\t\t\t}catch (err) {\n\t\t\t\tlet message = ''\n\t\t\t\tswitch (err.code) {\n\t\t\t\t\tcase 'auth/user-not-found':\n\t\t\t\t\t\tmessage = 'Não foi possível localizar o usuário.'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'auth/wrong-password':\n\t\t\t\t\t\tmessage = 'Senha inválida'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmessage = 'Não foi possível fazer login, tente novamente'\n\t\t\t\t\t}\n\t\t\t\t\tthis.$root.$emit('Notification::show', {\n\t\t\t\t\tmessage,\n\t\t\t\t\ttype: 'danger'\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.loading = false\n\t\t}\n\t},\n\n\tbeforeRouteEnter(to, from, next) {\n\t\tnext(vm => {\n\t\t\tif (window.uid) {\n\t\t\t\tvm.$router.push({ name: 'home' })\n\t\t\t}\n\t\t})\n\t},\n\tcomputed: {\n\t\trouterLinks () {\n\t\t\treturn this.$router.options.routes.filter(r => (r.name == 'signUp'))\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\nh1 {\n\tfont-size: 30pt;\n}\n.form-login {\n\theight: 100vh;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\t.card {\n\t\twidth: 30%;\n\t}\n}\n.signUp {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n</style>\n\n"]}]}
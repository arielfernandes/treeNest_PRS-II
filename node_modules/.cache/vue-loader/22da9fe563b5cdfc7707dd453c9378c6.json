{"remainingRequest":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/src/components/layout/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/src/components/layout/Register.vue","mtime":1612012209787},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFza30gZnJvbSAndnVlLXRoZS1tYXNrJwoJZXhwb3J0IGRlZmF1bHQgewoJCWRhdGE6ICgpID0+ICh7CgkJCWxvYWRpbmc6IGZhbHNlLAoJCQlzaG93TW9kYWw6IGZhbHNlLAoJCQlmb3JtOiB7CgkJCQluYW1lOiAnJywKCQkJCWNwZjogJycsCgkJCQllbWFpbDogJycsCgkJCQlwaG9uZTogJycsCgkJCQlhcHQ6ICcnLAoJCQkJY29udHJhY3Q6ICcnLAoJCQkJdmFsdWU6ICcnLAoJCQkJcGhvdG86ICcnLAoJCQl9CgkJfSksCgkJZGlyZWN0aXZlczoge21hc2t9LAoJCWNvbXB1dGVkOiB7CgkJCWZpbGVOYW1lKCkgewoJCQkJY29uc3QgeyBwaG90byB9ID0gdGhpcy5mb3JtCgkJCQlpZiAocGhvdG8pIHsKCQkJCQljb25zdCBzcGxpdCA9IHBob3RvLm5hbWUuc3BsaXQoJy4nKQoJCQkJCXJldHVybiBgJHtzcGxpdFswXX0tJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX0uJHtzcGxpdFsxXX1gCgkJCQl9ZWxzZSB7CgkJCQkJcmV0dXJuICcnCgkJCQl9CgkJCX0KCQl9LAoJCW1ldGhvZHM6IHsKCQkJb3BlbkZpbGVEaWFsb2coKSB7CgkJCQl0aGlzLiRyZWZzLmlucHV0UGhvdG8udmFsdWUgPSBudWxsCgkJCQl0aGlzLiRyZWZzLmlucHV0UGhvdG8uY2xpY2soKQoJCQl9LAoJCQloYW5kbGVGaWxlICh7IHRhcmdldCB9KSB7CgkJCQl0aGlzLmZvcm0ucGhvdG8gPSB0YXJnZXQuZmlsZXNbMF0KCQkJfSwKCQkJY2xvc2VNb2RhbCgpIHsKCQkJCXRoaXMuc2hvd01vZGFsID0gZmFsc2UKCQkJfSwKCQkJYXN5bmMgc3VibWl0KCkgewoJCQkJbGV0IHVybCA9ICcnCgkJCQl0aGlzLmxvYWRpbmcgPSB0cnVlCgkJCQl0cnkgewoJCQkJCXRoaXMuJHJvb3QuJGVtaXQoJ1NwaW5uZXI6OnNob3cnKQoJCQkJCWNvbnN0IHJlZiA9IHRoaXMuJGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKHdpbmRvdy51aWQpCgkJCQkJY29uc3QgaWQgPSByZWYucHVzaCgpLmtleQoJCQkJCQoJCQkJCWlmICh0aGlzLmZvcm0ucGhvdG8pIHsKCQkJCQkJY29uc3Qgc25hcHNob3QgPSBhd2FpdCB0aGlzLiRmaXJlYmFzZS5zdG9yYWdlKCkKCQkJCQkJLnJlZih3aW5kb3cudWlkKQoJCQkJCQkuY2hpbGQodGhpcy5maWxlTmFtZSkKCQkJCQkJLnB1dCh0aGlzLmZvcm0ucGhvdG8pCgkJCQkJCQoJCQkJCQl1cmwgPSBhd2FpdCBzbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKQoJCQkJCX0KCgkJCQkJY29uc3QgZm9ybWxvYWQgPSB7CgkJCQkJCWlkLAoJCQkJCQkuLi50aGlzLmZvcm0sCgkJCQkJCXBob3RvOiB1cmwsCgkJCQkJCWNyZWF0ZWRBdDogbmV3IERhdGUoKS5nZXRUaW1lKCksCgkJCQkJfQoJCQkJCXJlZi5jaGlsZChpZCkuc2V0KGZvcm1sb2FkLCBlcnIgPT4gewoJCQkJCQlpZiAoZXJyKSB7CgkJCQkJCQl0aGlzLiRyb290LiRlbWl0KCdOb3RpZmljYXRpb246OnNob3cnLCB7CgkJCQkJCQkJdHlwZTogJ2RhbmdlcicsCgkJCQkJCQkJbWVzc2FnZTogJ07Do28gZm9pIHBvc3NpdmVsIGluc2VyaXIuJwoJCQkJCQkJfSkKCQkJCQkJCXRoaXMubG9hZGluZyA9IGZhbHNlCgkJCQkJCX1lbHNlIHsKCQkJCQkJCXRoaXMuJHJvb3QuJGVtaXQoJ05vdGlmaWNhdGlvbjo6c2hvdycsIHsKCQkJCQkJCQl0eXBlOiAnc3VjY2VzcycsCgkJCQkJCQkJbWVzc2FnZTogJ1N1Y2Nlc3MhIScKCQkJCQkJCX0pCgkJCQkJCQl0aGlzLmNsb3NlTW9kYWwoKQoJCQkJCQkJdGhpcy5sb2FkaW5nID0gZmFsc2UKCQkJCQkJfQoJCQkJCX0pCgkJCQl9IGNhdGNoIChlcnIpIHsKCQkJCQl0aGlzLiRyb290LiRlbWl0KCdOb3RpZmljYXRpb246OnNob3cnLCB7CgkJCQkJCXR5cGU6ICdkYW5nZXInLAoJCQkJCQltZXNzYWdlOiAnTsOjbyBmb2kgcG9zc2l2ZWwgaW5zZXJpciwgdGVudGUgbm92YW1lbnRlIScKCQkJCQl9KQoJCQkJfSBmaW5hbGx5IHsKCQkJCQl0aGlzLiRyb290LiRlbWl0KCdTcGlubmVyOjpoaWRlJykKCQkJCQl0aGlzLmxvYWRpbmcgPSBmYWxzZQoJCQkJfQoJCQl9LAoJCX0KCX0K"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components/layout","sourcesContent":["<template>\n<div class=\"w-100 d-flex justify-content-center\">\n    <button\n      @click=\"showModal = true\"\n      class=\"btn btn-lg btn-outline-primary w-75 btn-t\" \n    >\n      <i class=\"fa fa-plus\"></i>\n      Tenant\n    </button>\n\n    <form @submit.prevent=\"submit()\">\n      <div\n        class=\"modal fade\"\n        :class=\"{show: showModal}\"\n        :style=\"{display: showModal ? 'block' : 'none'}\"\n      >\n        <div class=\"modal-dialog modal-lg\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\">Adicionar um novo gasto</h5>\n              <button\n                type=\"button\"\n                class=\"close\"\n                @click=\"closeModal()\"\n              >\n                <span>×</span>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"row\">\n                <div class=\"form-group col-8\">\n                  <label for=\"\">Name:</label>\n                  <input\n                    required\n                    type=\"text\"\n                    class=\"form-control\"\n                    v-model=\"form.name\"\n                  >\n                </div>\n                <div class=\"form-group col-4\">\n                  <label for=\"\">Value (R$):</label>\n                  <input\n                    required\n                    type=\"text\"\n                    class=\"form-control\"\n                    v-model=\"form.value\"\n                  >\n                </div>\n                <div class=\"form-group col-4\">\n                  <label for=\"\">E-mail:</label>\n                  <input\n                    required\n                    type=\"email\"\n                    class=\"form-control\"\n                    v-model=\"form.email\"\n\t\t\t\t\tplaceholder=\"email@example.com\"\n                  >\n                </div>\n                <div class=\"form-group col-4\">\n                  <label for=\"\">CPF:</label>\n                  <input\n                    required\n                    type=\"text\"\n                    class=\"form-control\"\n                    v-model=\"form.cpf\"\n\t\t\t\t\tv-mask=\"['###.###.###-##']\"\n\t\t\t\t\tplaceholder=\"000.000.000-00\"\n                  >\n                </div>\n                <div class=\"form-group col-4\">\n                  <label for=\"\">Phone:</label>\n                  <input\n                    required\n                    type=\"text\"\n                    class=\"form-control\"\n\t\t\t\t\tv-mask=\"['(##) ####-####', '(##) #####-####']\"\n\t\t\t\t\tplaceholder=\"(00)0000-0000\"\n\t\t\t\t\tv-model=\"form.phone\"\n                  >\n                </div>\n              </div>\n                <div class=\"form-group col-4\">\n                  <label for=\"\">APT:</label>\n                  <input\n                    required\n                    type=\"number\"\n                    class=\"form-control\"\n                    v-model=\"form.apt\"\n                  >\n                </div>\n\t\t\t\t<div class=\"form-group col-4\">\n\t\t\t\t\t<label for=\"\">Contract:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\tv-model=\"form.contract\" \n\t\t\t\t\t\tplaceholder=\"Month\"\n\t\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group col-12 flex-column d-flex align-items-center\">\n\t\t\t\t\t<input\n\t\t\t\t\tref=\"inputPhoto\"\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tclass=\"d-none\"\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t@change=\"handleFile($event)\"\n\t\t\t\t\t>\n\n\t\t\t\t\t<button type=\"button\"\n\t\t\t\t\t@click=\"openFileDialog()\"\n\t\t\t\t\tclass=\"btn btn-outline-secondary\">\n\t\t\t\t\t\tAdd Photo\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<div class=\"mt-2\" v-if=\"form.photo\">\n\t\t\t\t\t\t{{ form.photo.name }}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t@click=\"form.photo = ''\"\n\t\t\t\t\t\tclass=\"btn bagde bagde-light\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<i class=\"fa fa-trash text-danger\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            </div>\n            <div class=\"modal-footer\">\n              <button\n                type=\"button\"\n                class=\"btn btn-secondary\"\n                @click=\"closeModal()\"\n              >\n                Fechar\n              </button>\n              <button class=\"btn btn-primary\" :disabled=\"loading\">\n                <template v-if=\"loading\">\n                  <i class=\"fa fa-spin fa-spinner\"></i>\n                  Salvando...\n                </template>\n                <template v-else>\n                  Save tenant\n                </template>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n\n    <div\n      :class=\"{show: showModal}\"\n      class=\"modal-backdrop fade\"\n      :style=\"{display: showModal ? 'block' : 'none'}\"\n    />\n  </div>\n</template>\n\n<script>\nimport {mask} from 'vue-the-mask'\n\texport default {\n\t\tdata: () => ({\n\t\t\tloading: false,\n\t\t\tshowModal: false,\n\t\t\tform: {\n\t\t\t\tname: '',\n\t\t\t\tcpf: '',\n\t\t\t\temail: '',\n\t\t\t\tphone: '',\n\t\t\t\tapt: '',\n\t\t\t\tcontract: '',\n\t\t\t\tvalue: '',\n\t\t\t\tphoto: '',\n\t\t\t}\n\t\t}),\n\t\tdirectives: {mask},\n\t\tcomputed: {\n\t\t\tfileName() {\n\t\t\t\tconst { photo } = this.form\n\t\t\t\tif (photo) {\n\t\t\t\t\tconst split = photo.name.split('.')\n\t\t\t\t\treturn `${split[0]}-${new Date().getTime()}.${split[1]}`\n\t\t\t\t}else {\n\t\t\t\t\treturn ''\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\topenFileDialog() {\n\t\t\t\tthis.$refs.inputPhoto.value = null\n\t\t\t\tthis.$refs.inputPhoto.click()\n\t\t\t},\n\t\t\thandleFile ({ target }) {\n\t\t\t\tthis.form.photo = target.files[0]\n\t\t\t},\n\t\t\tcloseModal() {\n\t\t\t\tthis.showModal = false\n\t\t\t},\n\t\t\tasync submit() {\n\t\t\t\tlet url = ''\n\t\t\t\tthis.loading = true\n\t\t\t\ttry {\n\t\t\t\t\tthis.$root.$emit('Spinner::show')\n\t\t\t\t\tconst ref = this.$firebase.database().ref(window.uid)\n\t\t\t\t\tconst id = ref.push().key\n\t\t\t\t\t\n\t\t\t\t\tif (this.form.photo) {\n\t\t\t\t\t\tconst snapshot = await this.$firebase.storage()\n\t\t\t\t\t\t.ref(window.uid)\n\t\t\t\t\t\t.child(this.fileName)\n\t\t\t\t\t\t.put(this.form.photo)\n\t\t\t\t\t\t\n\t\t\t\t\t\turl = await snapshot.ref.getDownloadURL()\n\t\t\t\t\t}\n\n\t\t\t\t\tconst formload = {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\t...this.form,\n\t\t\t\t\t\tphoto: url,\n\t\t\t\t\t\tcreatedAt: new Date().getTime(),\n\t\t\t\t\t}\n\t\t\t\t\tref.child(id).set(formload, err => {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\tthis.$root.$emit('Notification::show', {\n\t\t\t\t\t\t\t\ttype: 'danger',\n\t\t\t\t\t\t\t\tmessage: 'Não foi possivel inserir.'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.loading = false\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.$root.$emit('Notification::show', {\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\tmessage: 'Success!!'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.closeModal()\n\t\t\t\t\t\t\tthis.loading = false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} catch (err) {\n\t\t\t\t\tthis.$root.$emit('Notification::show', {\n\t\t\t\t\t\ttype: 'danger',\n\t\t\t\t\t\tmessage: 'Não foi possivel inserir, tente novamente!'\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.$root.$emit('Spinner::hide')\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style scoped>\n.btn-t {\n\tmargin-top: 20px;\n\tbackground-color: #58e1ab;\ncolor: black;\n\tfont-size: 12pt;\nborder:none;\n}\n\n.btn-style {\n\tborder: none;\n\tcolor: white;\n}\n#register, .register{\n\tdisplay: flex;\n\tjustify-content: center;\n    flex-direction: column;\n\talign-items: center;\n\n}\n#register {\n\tline-height: 1.6;\n}\n.hr-size {\n\tmax-width: 0 auto;\n}\n.btn-m {\n\tmargin: 20px;\n\tmargin-bottom: 40px;\n}\n</style>\n"]}]}
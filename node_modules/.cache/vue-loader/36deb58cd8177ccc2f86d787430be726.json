{"remainingRequest":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/tree_nest/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/tree_nest/src/pages/login/Login.vue?vue&type=style&index=0&id=659840cf&scoped=true&lang=css&","dependencies":[{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/tree_nest/src/pages/login/Login.vue","mtime":1611964458369},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/tree_nest/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/tree_nest/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/tree_nest/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/tree_nest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eax/Documentos/CTDS/3semestre/projSoftware_II/treeNest_PRS-II/tree_nest/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpoMSB7Cglmb250LXNpemU6IDMwcHQ7Cn0KLmZvcm0tbG9naW4gewoJaGVpZ2h0OiAxMDB2aDsKCWRpc3BsYXk6IGZsZXg7CglhbGlnbi1pdGVtczogY2VudGVyOwoJanVzdGlmeS1jb250ZW50OiBjZW50ZXI7CgkuY2FyZCB7CgkJd2lkdGg6IDMwJTsKCX0KfQoK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\n\t<form @submit.prevent=\"doLogin()\" class=\"form-login\">\n\t\t<div class=\"card\">\n\t\t<div class=\"card-header text-center\">\n\t\t\t<h1> Tree Nest</h1>\n\t\t</div>\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\tplaceholder=\"E-mail\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\tplaceholder=\"Password\">\n\t\t\t\t</div>\n\t\t\t\t<button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n\t\t\t\t\t<template v-if=\"loading\">\n\t\t\t\t\t\tLogando\n\t\t\t\t\t\t<i class=\"fa fa-spinner fa-spin\"></i>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\tSing in\n\t\t\t\t\t\t<i class=\"fa fa-sign-in-alt\"></i>\n\t\t\t\t\t</template>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n</template>\n\n<script>\nexport default {\n\tname: 'login',\n\tdata: () => ({\n\t\t\tloading: false,\n\t\t\temail: '',\n\t\t\tpassword: ''\n\t\t}),\n\tmethods: {\n\t\tasync doLogin() {\n\t\t\tthis.loading = true\n\t\t\tconst { email, password } = this\n\t\t\ttry {\n\t\t\t\tconst res = await this.$firebase\n\t\t\t\t\t.auth()\n\t\t\t\t\t.signInWithEmailAndPassword(email, password)\n\t\t\t\t\n\t\t\t\twindow.uid = res.user.uid\n\t\t\t\tthis.$router.push({ name: 'home' })\n\t\t\t}catch (err) {\n\t\t\t\tlet message = ''\n\t\t\t\tswitch (err.code) {\n\t\t\t\t\tcase 'auth/user-not-found':\n\t\t\t\t\t\tmessage = 'Não foi possível localizar o usuário.'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'auth/wrong-password':\n\t\t\t\t\t\tmessage = 'Senha inválida'\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmessage = 'Não foi possível fazer login, tente novamente'\n\t\t\t\t\t}\n\t\t\t\t\tthis.$root.$emit('Notification::show', {\n\t\t\t\t\tmessage,\n\t\t\t\t\ttype: 'danger'\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.loading = false\n\t\t}\n\t},\n\n\tbeforeRouteEnter(to, from, next) {\n\t\tnext(vm => {\n\t\t\tif (window.uid) {\n\t\t\t\tvm.$router.push({ name: 'home' })\n\t\t\t}\n\t\t})\n\t}\n}\n</script>\n\n<style scoped>\nh1 {\n\tfont-size: 30pt;\n}\n.form-login {\n\theight: 100vh;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\t.card {\n\t\twidth: 30%;\n\t}\n}\n\n</style>\n\n"]}]}